var be=Object.defineProperty;var we=(e,t,n)=>t in e?be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var R=(e,t,n)=>(we(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function j(){}function de(e){return e()}function ee(){return Object.create(null)}function A(e){e.forEach(de)}function he(e){return typeof e=="function"}function _e(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function xe(e){return Object.keys(e).length===0}function m(e,t){e.appendChild(t)}function F(e,t,n){e.insertBefore(t,n||null)}function S(e){e.parentNode&&e.parentNode.removeChild(e)}function Ie(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function y(e){return document.createElement(e)}function ge(e){return document.createTextNode(e)}function P(){return ge(" ")}function k(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function b(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ve(e){return Array.from(e.childNodes)}function De(e,t){t=""+t,e.data!==t&&(e.data=t)}function te(e,t){e.value=t??""}let M;function L(e){M=e}function Be(){if(!M)throw new Error("Function called outside component initialization");return M}function Ee(e){Be().$$.on_mount.push(e)}const C=[],ne=[];let O=[];const oe=[],Pe=Promise.resolve();let G=!1;function $e(){G||(G=!0,Pe.then(me))}function W(e){O.push(e)}const q=new Set;let $=0;function me(){if($!==0)return;const e=M;do{try{for(;$<C.length;){const t=C[$];$++,L(t),ke(t.$$)}}catch(t){throw C.length=0,$=0,t}for(L(null),C.length=0,$=0;ne.length;)ne.pop()();for(let t=0;t<O.length;t+=1){const n=O[t];q.has(n)||(q.add(n),n())}O.length=0}while(C.length);for(;oe.length;)oe.pop()();G=!1,q.clear(),L(e)}function ke(e){if(e.fragment!==null){e.update(),A(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(W)}}function Ce(e){const t=[],n=[];O.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),O=t}const Oe=new Set;function Se(e,t){e&&e.i&&(Oe.delete(e),e.i(t))}function re(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Le(e,t,n){const{fragment:o,after_update:r}=e.$$;o&&o.m(t,n),W(()=>{const s=e.$$.on_mount.map(de).filter(he);e.$$.on_destroy?e.$$.on_destroy.push(...s):A(s),e.$$.on_mount=[]}),r.forEach(W)}function je(e,t){const n=e.$$;n.fragment!==null&&(Ce(n.after_update),A(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Me(e,t){e.$$.dirty[0]===-1&&(C.push(e),$e(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ae(e,t,n,o,r,s,c=null,l=[-1]){const u=M;L(e);const i=e.$$={fragment:null,ctx:[],props:s,update:j,not_equal:r,bound:ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:ee(),dirty:l,skip_bound:!1,root:t.target||u.$$.root};c&&c(i.root);let d=!1;if(i.ctx=n?n(e,t.props||{},(w,I,...D)=>{const p=D.length?D[0]:I;return i.ctx&&r(i.ctx[w],i.ctx[w]=p)&&(!i.skip_bound&&i.bound[w]&&i.bound[w](p),d&&Me(e,w)),I}):[],i.update(),d=!0,A(i.before_update),i.fragment=o?o(i.ctx):!1,t.target){if(t.hydrate){const w=ve(t.target);i.fragment&&i.fragment.l(w),w.forEach(S)}else i.fragment&&i.fragment.c();t.intro&&Se(e.$$.fragment),Le(e,t.target,t.anchor),me()}L(u)}class Ne{constructor(){R(this,"$$");R(this,"$$set")}$destroy(){je(this,1),this.$destroy=j}$on(t,n){if(!he(n))return j;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(t){this.$$set&&!xe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Te="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Te);const H=(e,t)=>t.some(n=>e instanceof n);let se,ce;function Ve(){return se||(se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fe(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J=new WeakMap,z=new WeakMap,K=new WeakMap;function We(e){const t=new Promise((n,o)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",c)},s=()=>{n(E(e.result)),r()},c=()=>{o(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",c)});return K.set(t,e),t}function Ke(e){if(J.has(e))return;const t=new Promise((n,o)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",c),e.removeEventListener("abort",c)},s=()=>{n(),r()},c=()=>{o(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",c),e.addEventListener("abort",c)});J.set(e,t)}let Q={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return J.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return E(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function pe(e){Q=e(Q)}function Re(e){return Fe().includes(e)?function(...t){return e.apply(X(this),t),E(this.request)}:function(...t){return E(e.apply(X(this),t))}}function qe(e){return typeof e=="function"?Re(e):(e instanceof IDBTransaction&&Ke(e),H(e,Ve())?new Proxy(e,Q):e)}function E(e){if(e instanceof IDBRequest)return We(e);if(z.has(e))return z.get(e);const t=qe(e);return t!==e&&(z.set(e,t),K.set(t,e)),t}const X=e=>K.get(e);function ze(e,t,{blocked:n,upgrade:o,blocking:r,terminated:s}={}){const c=indexedDB.open(e,t),l=E(c);return o&&c.addEventListener("upgradeneeded",u=>{o(E(c.result),u.oldVersion,u.newVersion,E(c.transaction),u)}),n&&c.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",i=>r(i.oldVersion,i.newVersion,i))}).catch(()=>{}),l}const Ue=["get","getKey","getAll","getAllKeys","count"],Ge=["put","add","delete","clear"],U=new Map;function ie(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(U.get(t))return U.get(t);const n=t.replace(/FromIndex$/,""),o=t!==n,r=Ge.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(r||Ue.includes(n)))return;const s=async function(c,...l){const u=this.transaction(c,r?"readwrite":"readonly");let i=u.store;return o&&(i=i.index(l.shift())),(await Promise.all([i[n](...l),r&&u.done]))[0]};return U.set(t,s),s}pe(e=>({...e,get:(t,n,o)=>ie(t,n)||e.get(t,n,o),has:(t,n)=>!!ie(t,n)||e.has(t,n)}));const He=["continue","continuePrimaryKey","advance"],ue={},Y=new WeakMap,ye=new WeakMap,Je={get(e,t){if(!He.includes(t))return e[t];let n=ue[t];return n||(n=ue[t]=function(...o){Y.set(this,ye.get(this)[t](...o))}),n}};async function*Qe(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,Je);for(ye.set(n,t),K.set(n,X(t));t;)yield n,t=await(Y.get(n)||t.continue()),Y.delete(n)}function ae(e,t){return t===Symbol.asyncIterator&&H(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&H(e,[IDBIndex,IDBObjectStore])}pe(e=>({...e,get(t,n,o){return ae(t,n)?Qe:e.get(t,n,o)},has(t,n){return ae(t,n)||e.has(t,n)}}));function le(e,t,n){const o=e.slice();return o[15]=t[n],o[17]=n,o}function fe(e){let t,n,o=e[15]+"",r,s,c,l;function u(){return e[8](e[17])}return{c(){t=y("li"),n=y("button"),r=ge(o),b(n,"class",s=(e[17]==e[1]?"bg-dark-gray":"")+" py-2 px-3 text-gray-900 rounded-lg svelte-k716pc")},m(i,d){F(i,t,d),m(t,n),m(n,r),c||(l=k(n,"click",u),c=!0)},p(i,d){e=i,d&1&&o!==(o=e[15]+"")&&De(r,o),d&2&&s!==(s=(e[17]==e[1]?"bg-dark-gray":"")+" py-2 px-3 text-gray-900 rounded-lg svelte-k716pc")&&b(n,"class",s)},d(i){i&&S(t),c=!1,l()}}}function Xe(e){let t,n,o,r,s,c,l,u,i,d,w,I,D,p,N,T,V,f,x,v,_=re(e[0]),h=[];for(let a=0;a<_.length;a+=1)h[a]=fe(le(e,_,a));return{c(){t=y("aside"),n=y("div"),o=y("ul");for(let a=0;a<h.length;a+=1)h[a].c();r=P(),s=y("li"),c=y("button"),c.textContent="+Add page",l=P(),u=y("main"),i=y("div"),d=y("h1"),w=P(),I=y("button"),I.textContent="Save",D=P(),p=y("button"),p.textContent="delete",N=P(),T=y("hr"),V=P(),f=y("textarea"),b(c,"class","font-medium"),b(s,"class","text-centre"),b(o,"class","space-y-z"),b(n,"class","bg-light-gray overflow-y-auto py-5 px-3 h-full border-r border-gray-200 svelte-k716pc"),b(t,"class","fixed top-0 left-0 z-40 w-60 h-screen"),b(d,"class","text-3xl font-bold"),b(d,"contenteditable",""),e[2]===void 0&&W(()=>e[9].call(d)),b(I,"class","ml-auto bg-gray-800 text-white px-5 py-2.5 round-lg font-medium rounded-lg text=sm mt-3 hover:bg-gray-900"),b(p,"class","text-centre ml-auto bg-red-600 text-white px-5 py-2.5 round-lg font-medium rounded-lg text=sm mt-3 hover:bg-gray-900"),b(i,"class","grid grid-cols-2 items-centre mb-3"),b(f,"class","mt-3 block w-full bg-gray-50 border-gray-300 rounded-lg text-gray-900 p-2.5"),b(u,"class","p-4 ml-60 h-auto")},m(a,B){F(a,t,B),m(t,n),m(n,o);for(let g=0;g<h.length;g+=1)h[g]&&h[g].m(o,null);m(o,r),m(o,s),m(s,c),F(a,l,B),F(a,u,B),m(u,i),m(i,d),e[2]!==void 0&&(d.textContent=e[2]),m(i,w),m(i,I),m(i,D),m(i,p),m(u,N),m(u,T),m(u,V),m(u,f),te(f,e[3]),x||(v=[k(c,"click",e[6]),k(d,"input",e[9]),k(I,"click",e[4]),k(p,"click",e[5]),k(f,"input",e[10])],x=!0)},p(a,[B]){if(B&131){_=re(a[0]);let g;for(g=0;g<_.length;g+=1){const Z=le(a,_,g);h[g]?h[g].p(Z,B):(h[g]=fe(Z),h[g].c(),h[g].m(o,r))}for(;g<h.length;g+=1)h[g].d(1);h.length=_.length}B&4&&a[2]!==d.textContent&&(d.textContent=a[2]),B&8&&te(f,a[3])},i:j,o:j,d(a){a&&(S(t),S(l),S(u)),Ie(h,a),x=!1,A(v)}}}function Ye(e,t,n){let o,r=[],s=0,c="",l="";const u=indexedDB.open("notes",1);u.onerror=function(f){console.error("Database error:",f.target.error)},u.onsuccess=function(f){o=f.target.result,d()},u.onupgradeneeded=function(f){o=f.target.result,o.createObjectStore("note",{keyPath:"title"})};async function i(){o=await ze("notesDB",1,{upgrade(f){f.createObjectStore("notes",{keyPath:"title"})}})}async function d(){const v=o.transaction("notes","readonly").objectStore("notes").getAllkeys();v.onsuccess=function(_){n(0,r=_.target.result)},r.length>0?p(s):D()}async function w(){const x=o.transaction("notes","readwrite").objectStore("notes"),v=r[s],_={title:c,note:l},h=IDBObjectStore.add(_);v!==c&&(await x.delete(v),n(0,r[s]=c,r)),await x.put({title:c,note:l}),n(0,r=await x.getAllkeys()),h.onsuccess9=function(a){console.log("note saved successfully")}}async function I(){o.transaction("notes","readwrite").objectStore("notes");const x=IDBObjectStore.clear();x.onsuccess=function(v){console.log("notes deleted succesfully")},x.onerror=function(v){console.log("error deleting notes")},r.splice(s,1),r.length>0?p(0):D()}async function D(){r.push("New Page"),p(r.length-1)}async function p(f){n(1,s=f),n(2,c=r[s]);const _=await o.transaction("notes","readonly").objectStore("notes").get(c);n(3,l=_?_.note:"")}Ee(async()=>{await i(),await d()});const N=f=>p(f);function T(){c=this.textContent,n(2,c)}function V(){l=this.value,n(3,l)}return[r,s,c,l,w,I,D,p,N,T,V]}class Ze extends Ne{constructor(t){super(),Ae(this,t,Ye,Xe,_e,{})}}new Ze({target:document.getElementById("app")});
